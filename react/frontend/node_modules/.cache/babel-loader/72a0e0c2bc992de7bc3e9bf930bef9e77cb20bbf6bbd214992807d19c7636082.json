{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\ITEH3\\\\internet-tehnologije-projekat-e-biblioteka_2020_0117\\\\react\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from \"axios\";\nimport \"../style/Login.css\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  addToken,\n  addUser\n}) => {\n  _s();\n  let navigate = useNavigate();\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  function handleInput(e) {\n    let newUser = user;\n    newUser[e.target.name] = e.target.value;\n    setUser(newUser);\n  }\n  function handleLogin(e) {\n    e.preventDefault();\n    axios.post(\"http://127.0.0.1:8000/api/login\", user).then(res => {\n      console.log(res.data);\n      if (res.data.success === true) {\n        window.sessionStorage.setItem(\"auth_token\", res.data.access_token);\n        console.log(res.data);\n        //console.log('asdasd');\n        addToken(res.data.access_token);\n        addUser(user);\n        navigate(\"/files\");\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"vh-100 gradient-custom\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5 h-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex justify-content-center align-items-center h-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-8 col-lg-6 col-xl-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card bg-dark text-white\",\n            style: {\n              borderRadius: 1 + \"rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-5 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleLogin,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-md-5 mt-md-4 pb-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-white-50 mb-5\",\n                    children: \"Please enter your email and password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 60,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-outline form-white mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      htmlFor: \"typeEmailX\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 64,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"typeEmailX\",\n                      className: \"form-control form-control-lg\",\n                      name: \"email\",\n                      onInput: handleInput\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 65,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-outline form-white mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      htmlFor: \"typePasswordX\",\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      id: \"typePasswordX\",\n                      className: \"form-control form-control-lg\",\n                      name: \"password\",\n                      onInput: handleInput\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-outline-light btn-lg px-5\",\n                    type: \"submit\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0\",\n                    children: [\"Don't have an account?  \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/register\",\n                      className: \"text-white-50 fw-bold\",\n                      children: \"Sign Up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 69\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"ZabtH8FQq0lgvwpFAUuW+OCYkAU=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Login","addToken","addUser","_s","navigate","user","setUser","email","password","handleInput","e","newUser","target","name","value","handleLogin","preventDefault","post","then","res","console","log","data","success","window","sessionStorage","setItem","access_token","catch","className","children","style","borderRadius","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","onInput","href","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Desktop/ITEH3/internet-tehnologije-projekat-e-biblioteka_2020_0117/react/frontend/src/components/Login.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from \"axios\"\r\nimport \"../style/Login.css\"\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\n\r\nconst Login = ({addToken, addUser}) => {\r\n\r\n     let navigate=useNavigate();\r\n\r\n     const[user, setUser] =useState({\r\n         email:\"\",\r\n         password:\"\",\r\n     });\r\n\r\n     function handleInput(e){\r\n         let newUser=user;\r\n         newUser[e.target.name]=e.target.value;\r\n        setUser(newUser);\r\n    }\r\n\r\n     function handleLogin(e){\r\n         e.preventDefault();\r\n       \r\n         axios.post(\"http://127.0.0.1:8000/api/login\",user).\r\n         then((res)=>\r\n         {\r\n             console.log(res.data);\r\n             if(res.data.success===true) {\r\n                window.sessionStorage.setItem(\"auth_token\",res.data.access_token);\r\n                 console.log(res.data);\r\n                 //console.log('asdasd');\r\n                 addToken(res.data.access_token);\r\n                 addUser(user);\r\n                 navigate(\"/files\");\r\n             }\r\n\r\n         }).\r\n         catch((e)=>{console.log(e);});\r\n     }\r\n\r\nreturn (\r\n  \r\n    <section className=\"vh-100 gradient-custom\">\r\n    \r\n    <div className=\"container py-5 h-100\" >\r\n        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n        <div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n            <div className=\"card bg-dark text-white\" style={{borderRadius: 1+\"rem\"}}>\r\n            <div className=\"card-body p-5 text-center\">\r\n\r\n                <form \r\n                  onSubmit={handleLogin}\r\n                >\r\n                    <div className=\"mb-md-5 mt-md-4 pb-5\">\r\n\r\n                        \r\n                        <p className=\"text-white-50 mb-5\">Please enter your email and password</p>\r\n\r\n\r\n                        <div className=\"form-outline form-white mb-4\">\r\n                            <label className=\"form-label\" htmlFor=\"typeEmailX\" >Email</label>\r\n                            <input type=\"text\" id=\"typeEmailX\" className=\"form-control form-control-lg\" name=\"email\" \r\n                             onInput={handleInput} \r\n                            /> \r\n                        </div>\r\n\r\n                        <div className=\"form-outline form-white mb-4\">\r\n                            <label className=\"form-label\" htmlFor=\"typePasswordX\">Password</label>\r\n                            <input type=\"password\" id=\"typePasswordX\" className=\"form-control form-control-lg\" name=\"password\" \r\n                             onInput={handleInput} \r\n                            />\r\n                        </div>\r\n\r\n                        <button className=\"btn btn-outline-light btn-lg px-5\" type=\"submit\">Login</button>   \r\n\r\n                    </div>\r\n\r\n                    <div>\r\n                        <p className=\"mb-0\">Don't have an account?  <a href=\"/register\" className=\"text-white-50 fw-bold\">Sign Up</a></p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </section>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}