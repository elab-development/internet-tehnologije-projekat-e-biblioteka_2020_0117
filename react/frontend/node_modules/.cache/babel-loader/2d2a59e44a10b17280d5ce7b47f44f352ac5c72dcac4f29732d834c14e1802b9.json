{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\ITEH3\\\\internet-tehnologije-projekat-e-biblioteka_2020_0117\\\\react\\\\frontend\\\\src\\\\components\\\\Files.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport OneFile from './OneFile';\nimport \"../style/Files.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Files = ({\n  files\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(0);\n  const itemsPerPage = 2; // Max broj knjiga po stranici\n\n  const [filteredFiles, setFilteredFiles] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    // Filtriranje fajlova kada se searchTerm promeni\n    const filtered = files.filter(file => file.bookName.toLowerCase().includes(searchTerm.toLowerCase()));\n    setFilteredFiles(filtered);\n  }, [files, searchTerm]);\n  const pageCount = Math.ceil(files.length / itemsPerPage);\n  const displayFiles = () => {\n    const startIndex = currentPage * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    return filteredFiles.slice(startIndex, endIndex).map(file => /*#__PURE__*/_jsxDEV(OneFile, {\n      file: file\n    }, file.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this));\n  };\n  const handlePageClick = ({\n    selected\n  }) => {\n    setCurrentPage(selected);\n  };\n  const handleNextClick = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n  const handlePrevClick = () => {\n    setCurrentPage(prevPage => prevPage - 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search files (name)\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      style: {\n        margin: '10px',\n        padding: '8px',\n        width: '30%',\n        display: 'block',\n        margin: '0 auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), displayFiles(), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      pageCount: pageCount,\n      pageRangeDisplayed: 3,\n      marginPagesDisplayed: 1,\n      onPageChange: handlePageClick,\n      containerClassName: 'pagination',\n      activeClassName: 'active',\n      previousLabel: 'previous',\n      nextLabel: 'next'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Files, \"zBknLaO7zhJx3lgUXEokB4KQqks=\");\n_c = Files;\nexport default Files;\nvar _c;\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"names":["React","useState","useEffect","ReactPaginate","OneFile","jsxDEV","_jsxDEV","Files","files","_s","currentPage","setCurrentPage","itemsPerPage","filteredFiles","setFilteredFiles","searchTerm","setSearchTerm","filtered","filter","file","bookName","toLowerCase","includes","pageCount","Math","ceil","length","displayFiles","startIndex","endIndex","slice","map","id","fileName","_jsxFileName","lineNumber","columnNumber","handlePageClick","selected","handleNextClick","prevPage","handlePrevClick","children","type","placeholder","value","onChange","e","target","style","margin","padding","width","display","pageRangeDisplayed","marginPagesDisplayed","onPageChange","containerClassName","activeClassName","previousLabel","nextLabel","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Desktop/ITEH3/internet-tehnologije-projekat-e-biblioteka_2020_0117/react/frontend/src/components/Files.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\nimport OneFile from './OneFile';\r\nimport \"../style/Files.css\";\r\n\r\nconst Files = ({ files }) => {\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const itemsPerPage = 2; // Max broj knjiga po stranici\r\n\r\n  const [filteredFiles, setFilteredFiles] = useState([]);\r\nconst [searchTerm, setSearchTerm] = useState('');\r\n\r\nuseEffect(() => {\r\n  // Filtriranje fajlova kada se searchTerm promeni\r\n  const filtered = files.filter((file) =>\r\n    file.bookName.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  setFilteredFiles(filtered);\r\n}, [files, searchTerm]);\r\n\r\n  const pageCount = Math.ceil(files.length / itemsPerPage);\r\n\r\n  const displayFiles = () => {\r\n    const startIndex = currentPage * itemsPerPage;\r\n    const endIndex = startIndex + itemsPerPage;\r\n    return filteredFiles.slice(startIndex, endIndex).map((file) => (\r\n      <OneFile key={file.id} file={file} />\r\n      \r\n    ));\r\n  };\r\n\r\n  \r\n\r\n  const handlePageClick = ({ selected }) => {\r\n    setCurrentPage(selected);\r\n  };\r\n\r\n  const handleNextClick = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const handlePrevClick = () => {\r\n    setCurrentPage((prevPage) => prevPage - 1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n         {/* Pretraga */}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search files (name)\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        style={{\r\n            margin: '10px',\r\n            padding: '8px', \r\n            width: '30%',   \r\n            display: 'block', \r\n            margin: '0 auto', \r\n          }}\r\n      />\r\n      {displayFiles()}\r\n\r\n    \r\n      <ReactPaginate\r\n         pageCount={pageCount}\r\n         pageRangeDisplayed={3}\r\n         marginPagesDisplayed={1}\r\n         onPageChange={handlePageClick}\r\n         containerClassName={'pagination'}\r\n         activeClassName={'active'}\r\n         previousLabel={'previous'}\r\n         nextLabel={'next'}\r\n      />\r\n        {/*To do za projekat - napraviti ogroman JOIN u laravelu da obuhvata fajlove, autore i zanrove i da se prosledi ovde i da se search deo u navbaru \r\n        podesi slicno kao i ovo polje u Files fajlu ali da pretrazuje po celom tom JOIN-u (autor, zanr i knjiga imena)*/ }\r\n        \r\n      {/*Gledali smo i u delu node_modules/react-paginate da nadjemo markere i da ih sklonimo sa dugmiadi next, previous itd ali nismo ih nasli*/ }\r\n\r\n\r\n      {/*ovo je pokusaj zamene dugmadi koje su defaultno date sa paginacijom ali nismo uspeli da obrisemo te default dugmice*/}\r\n      {/* <button onClick={handlePrevClick} disabled={currentPage === 0}>\r\n        Previous\r\n      </button>\r\n      <button onClick={handleNextClick} disabled={currentPage === pageCount - 1}>\r\n        Next\r\n      </button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Files;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}